var currentTopic=-1;var currentFeature="FEATURE_0";function showTopic(a){topics=$(".topic_body").find(".topic_content");header=$("#topics").find(".topic_header");$.log("show topic %d (last %d) headers %d",a,currentTopic,header.length);if(a!=currentTopic){if(currentTopic>=0){var c=currentTopic>a?"800px":"-800px";$(header[currentTopic]).removeClass("topic_active");topics[currentTopic].style.left="0px";$(topics[currentTopic]).stop().log().animate({left:c,top:"0px"},{easing:"easeInOutSine",duration:500});var b=currentTopic>a?"-800px":"800px";$(header[a]).addClass("topic_active");topics[a].style.left=b;$(topics[a]).stop().log().animate({left:"0px",top:"0px"},{easing:"easeInOutSine",duration:500})}else{topics[a].style.left="0px";$(header[a]).addClass("topic_active")}currentTopic=a}}function showImageGallery(){images=["shots/website.jpg","shots/klogger01big.png","shots/klogger02big.png"];titles=["Title 1","Title 2","Title 3"];descriptions=["Description 1","Description 2","Description 3"];$.prettyPhoto.open(images,titles,descriptions)}function showFeatureButtons(){s=150;$(".feature_back").css({width:"0px",height:"0px",left:"0px","margin-top":"0px"}).animate({opacity:[1,"easeOutQuint"],width:38,height:38,left:-20,marginTop:-20},s);$(".feature_next").css({width:"0px",height:"0px",right:"0px","margin-top":"0px"}).animate({opacity:[1,"easeOutQuint"],width:38,height:38,right:-20,marginTop:-20},s);$(".feature_back_arrow").css({opacity:"0"}).delay(s).animate({opacity:1},s,"easeInQuad");$(".feature_next_arrow").css({opacity:"0"}).delay(s).animate({opacity:1},s,"easeInQuad")}function hideFeatureButtons(){s=150;$(".feature_back").animate({width:0,height:0,left:-1,marginTop:0},s).animate({opacity:0},0);$(".feature_next").animate({width:0,height:0,right:-2,marginTop:0},s).animate({opacity:0},0);$(".feature_back_arrow").css({opacity:"0"});$(".feature_next_arrow").css({opacity:"0"});$(".feature_back_area").css("display","none");$(".feature_next_area").css("display","none")}function iconForFeature(b,a){$.log(b);img=$("#"+b).log().find(".feature_icon img");$.log(img);if(a){ary=$(img).attr("src").split("/");ary.splice(1,1,"iconcolor");return ary.join("/")}else{return $(img).attr("src")}}function showFeatureNavi(a){$(".feature_content_navi").animate({opacity:1});$(".feature_box_title P").animate({opacity:0});if(currentFeature!="FEATURE_0"){ary=currentFeature.split("_");num=parseInt(ary[1]);img=$(".feature_content_navi img")[num-1];$(img).animate({opacity:0.25})}ary=a.split("_");num=parseInt(ary[1]);img=$(".feature_content_navi img")[num-1];$(img).animate({opacity:1})}function hideFeatureNavi(){$(".feature_content_navi").animate({opacity:0});$(".feature_box_title P").animate({opacity:1});ary=currentFeature.split("_");num=parseInt(ary[1]);img=$(".feature_content_navi img")[num-1];$(img).css("opacity","0.25")}function showFeature(a){ary=a.split("_");nextNum=parseInt(ary[1]);ary=currentFeature.split("_");currNum=parseInt(ary[1]);nextStart=(nextNum>currNum)?"800px":"-800px";currEnd=(nextNum>currNum)?-800:800;$("#"+a+"_CONTENT").css("left",nextStart).animate({left:0});if(currentFeature=="FEATURE_0"){$(".feature_overview").animate({left:currEnd});showFeatureButtons()}else{$("#"+currentFeature+"_CONTENT").animate({left:currEnd})}showFeatureNavi(a);currentFeature=a;$(".feature_back_area").css("display","block");$(".feature_next_area").css("display","block")}function showFeatureOverview(){$(".feature_overview").animate({left:0});$("#"+currentFeature+"_CONTENT").animate({left:800});hideFeatureNavi();hideFeatureButtons();currentFeature="FEATURE_0"}function showNextFeature(){ary=currentFeature.split("_");nextNum=parseInt(ary[1])+1;if(nextNum==9){nextNum=1}ary.splice(1,1,nextNum);nextFeature=ary.join("_");showFeatureNavi(nextFeature);$("#"+nextFeature+"_CONTENT").css("left","800px").animate({left:0});$("#"+currentFeature+"_CONTENT").animate({left:-800});currentFeature=nextFeature}function showPrevFeature(){ary=currentFeature.split("_");nextNum=parseInt(ary[1])-1;if(nextNum<0){nextNum=8}ary.splice(1,1,nextNum);nextFeature=ary.join("_");$.log(currentFeature+" "+nextFeature);if(nextFeature=="FEATURE_0"){hideFeatureNavi();hideFeatureButtons()}else{showFeatureNavi(nextFeature)}$("#"+nextFeature+"_CONTENT").css("left","-800px").animate({left:0});$("#"+currentFeature+"_CONTENT").animate({left:800});currentFeature=nextFeature}function highlightBackArrow(){$(".feature_back_arrow").addClass("feature_back_arrow_hover");$(".feature_back").removeClass("feature_back_hover")}function unhighlightBackArrow(){$(".feature_back_arrow").removeClass("feature_back_arrow_hover");$(".feature_back").removeClass("feature_back_hover")}function dehighlightBackArrow(){$(".feature_back").addClass("feature_back_hover")}function highlightNextArrow(){$(".feature_next_arrow").addClass("feature_next_arrow_hover");$(".feature_next").removeClass("feature_next_hover")}function unhighlightNextArrow(){$(".feature_next_arrow").removeClass("feature_next_arrow_hover");$(".feature_next").removeClass("feature_next_hover")}function dehighlightNextArrow(){$(".feature_next").addClass("feature_next_hover")}function initImageViewer(){$("a[rel^='imageview']").prettyPhoto({opacity:0.75,default_width:860,default_height:660,overlay_gallery:false,})}$(document).ready(function(){$(".screenshot").load(function(){$(this).wrap(function(){return'<div class="'+$(this).attr("class")+'" style="background:url('+$(this).attr("src")+') no-repeat center center; " />'});$(this).css("opacity","0")});$(".feature_content_image").load(function(){$(this).wrap(function(){return'<div class="'+$(this).attr("class")+'" style="background:url('+$(this).attr("src")+") no-repeat center center; width:"+$(this).attr("width")+"px; height:"+$(this).attr("height")+'px;" />'});$(this).css("opacity","0")});initImageViewer();showTopic(1);$("#topics .topic_header").hover(function(){$(this).addClass("topic_hover")},function(){$(this).removeClass("topic_hover")});$(".feature").hover(function(){$(this).find(".feature_icon").addClass("feature_icon_hover");$(this).find(".feature_abstract H2").addClass("feature_header_hover");img=$(this).find(".feature_icon img");ary=$(img).attr("src").split("/");ary.splice(1,1,"iconcolor");$(img).attr("src",ary.join("/"))},function(){$(this).find(".feature_icon").removeClass("feature_icon_hover").removeClass("feature_icon_down");$(this).find(".feature_abstract H2").removeClass("feature_header_hover");img=$(this).find(".feature_icon img");ary=$(img).attr("src").split("/");ary.splice(1,1,"icon");$(img).attr("src",ary.join("/"))});$(".feature").mousedown(function(){$(this).find(".feature_icon").addClass("feature_icon_down")});$(".feature").mouseup(function(){$(this).find(".feature_icon").removeClass("feature_icon_down")});$(".feature").click(function(){showFeature($(this).attr("id"))});$(".feature_back").click(function(){showPrevFeature()});$(".feature_next").click(function(){showNextFeature()});$(".feature_back").hover(highlightBackArrow,unhighlightBackArrow);$(".feature_back").mousedown(dehighlightBackArrow);$(".feature_back").mouseup(highlightBackArrow);$(".feature_next").hover(highlightNextArrow,unhighlightNextArrow);$(".feature_next").mousedown(dehighlightNextArrow);$(".feature_next").mouseup(highlightNextArrow)});